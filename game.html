<!DOCTYPE html>
<html>
<head>
    <title>Lucky Stars - Play Online</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { background: #000; color: gold; font-family: 'Arial', sans-serif; text-align: center; margin: 0; padding: 20px; }
        .machine { background: linear-gradient(180deg, #333, #111); border: 5px solid #FFD700; border-radius: 20px; padding: 20px; max-width: 400px; margin: auto; box-shadow: 0 0 20px #FFD700; }
        .reels { display: flex; justify-content: space-around; background: #fff; border-radius: 10px; padding: 10px; margin: 20px 0; height: 100px; align-items: center; }
        .reel { font-size: 50px; }
        .balance-box { background: #222; border: 1px solid #FFD700; padding: 10px; border-radius: 10px; margin-bottom: 20px; font-size: 20px; }
        .spin-btn { background: linear-gradient(to bottom, #FFD700, #DAA520); border: none; padding: 20px 60px; font-size: 24px; font-weight: bold; border-radius: 50px; cursor: pointer; box-shadow: 0 5px #999; width: 100%; }
        .spin-btn:active { box-shadow: 0 2px #666; transform: translateY(4px); }
        .win-msg { color: #00ff00; font-weight: bold; height: 30px; margin-top: 15px; }
        @keyframes blur { from { filter: blur(0); } to { filter: blur(10px); } }
        .spinning { animation: blur 0.1s infinite alternate; }
    </style>
</head>
<body>

    <h1>üåü LUCKY STARS üåü</h1>
    
    <div class="machine">
        <div class="balance-box">WALLET: $<span id="balance">0.00</span></div>
        
        <div class="reels">
            <div id="r1" class="reel">üíé</div>
            <div id="r2" class="reel">7Ô∏è‚É£</div>
            <div id="r3" class="reel">üíé</div>
        </div>

        <button class="spin-btn" onclick="spin()">SPIN</button>
        <div id="status" class="win-msg"></div>
    </div>

   <script>
    let currentPlayer = prompt("Please enter your FB Username to login:");
    let balance = 0;

    // This function "calls" the backend data
    async function updateFromBackend() {
        try {
            const response = await fetch('game_data.json');
            const data = await response.json();
            const user = data.find(u => u.name === currentPlayer.toLowerCase());
            if (user) {
                balance = user.balance;
                document.getElementById('balance').innerText = balance.toFixed(2);
            } else {
                alert("User not found! Contact Admin on FB.");
            }
        } catch (e) {
            console.log("Waiting for Admin to sync...");
        }
    }

    // Initial Sync
    updateFromBackend();
    // Sync every 5 seconds
    setInterval(updateFromBackend, 5000);

    function spin() {
        if (balance < 1) {
            alert("Insufficient Credits!");
            return;
        }
        // Slot machine visual logic... (Keep the spinning code from before)
        // Note: For a real business, you'd send the win back to Python here.
    }
</script>